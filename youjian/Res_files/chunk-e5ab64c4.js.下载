(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e5ab64c4"],{"13cf":function(t,e,s){},3446:function(t,e,s){},"99e4":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e(t.showkey,{tag:"component"})],1)},i=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"homePage"},[e("div",{staticClass:"topBox"},[e("el-tabs",{on:{"tab-click":t.tabClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:t.$t("homePage.domestic"),name:"first"}}),e("el-tab-pane",{attrs:{label:t.$t("homePage.foreign"),name:"second"}})],1)],1),e("div",{staticClass:"situation"},[e("div",{staticClass:"top-box"},[e("span",[t._v(t._s(t.$t("homePage.equipment")))]),e("div",{staticClass:"box-radio"},[e("el-radio-group",{attrs:{size:"small"},on:{change:t.getCountData},model:{value:t.situation,callback:function(e){t.situation=e},expression:"situation"}},[e("el-radio-button",{attrs:{label:""}},[t._v(t._s(t.$t("homePage.all")))]),e("el-radio-button",{attrs:{label:"CPAP"}},[t._v("CPAP")]),e("el-radio-button",{attrs:{label:"BPAP"}},[t._v("BPAP")])],1)],1)]),e("ul",{staticClass:"uls-bottom"},t._l(t.situationUlList,(function(s,a){return e("li",{key:a},[e("span",{staticClass:"title"},[t._v(t._s(s.title))]),e("span",{staticClass:"sub-value"},[t._v(t._s(s.value))])])})),0)]),e("div",{staticClass:"type"},[e("p",[t._v(t._s(t.$t("homePage.model")))]),e("div",{staticClass:"type-box"},t._l(t.optionsList,(function(t,s){return e("div",{key:s,style:{width:"500px",height:"400px"},attrs:{id:"myChart"+s}})})),0)]),e("div",{staticClass:"active"},[e("div",{staticClass:"active-top"},[e("span",[t._v(t._s(t.$t("homePage.analysis")))]),e("el-radio-group",{attrs:{size:"small"},on:{change:t.getActivity},model:{value:t.activeRadio,callback:function(e){t.activeRadio=e},expression:"activeRadio"}},[e("el-radio-button",{attrs:{label:"week"}},[t._v(t._s(t.$t("homePage.week")))]),e("el-radio-button",{attrs:{label:"month"}},[t._v(t._s(t.$t("homePage.month")))]),e("el-radio-button",{attrs:{label:"quarter"}},[t._v(t._s(t.$t("homePage.quarter")))]),e("el-radio-button",{attrs:{label:"year"}},[t._v(t._s(t.$t("homePage.year")))])],1),e("div",{staticClass:"right"},[e("span",[t._v(t._s(t.$t("homePage.time")))]),e("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:t.$dateFmt,size:"small","picker-options":t.startDateDisabled,type:"date",placeholder:t.$t("homePage.placeholderTimer")},on:{blur:t.blurPicker},model:{value:t.activeDate,callback:function(e){t.activeDate=e},expression:"activeDate"}})],1)],1),e("div",{staticClass:"active-box"},[e("div",{style:{height:"400px"},attrs:{id:"myChartActive"}})])])])},n=[],c=(s("13d5"),s("313e")),r=s.n(c),l=s("b893"),d=s("fd03"),u={data(){return{remoteType:"default",startDateDisabled:{},activeRadio:"week",activeDate:"",activeName:"first",situation:"",situationUlList:[{title:this.$t("homePage.devicesTotal"),value:200},{title:this.$t("homePage.binding"),value:200},{title:this.$t("homePage.activatedDevices"),value:200}],optionsList:[{title:{text:this.$t("homePage.deviceType"),left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:this.$t("homePage.deviceType"),type:"pie",radius:"40%",center:["50%","60%"],data:[]}]},{title:{text:this.$t("homePage.deviceType"),left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:this.$t("homePage.deviceType"),type:"pie",radius:"40%",center:["55%","60%"],data:[],label:{formatter:"{b}:{c} ({d}%)"}}]},{title:{text:this.$t("homePage.bindingCases"),left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:this.$t("homePage.bindingCases"),type:"pie",radius:"40%",center:["50%","60%"],data:[]}]}],activeOption:{tooltip:{trigger:"axis"},legend:{top:15,data:[this.$t("homePage.new"),this.$t("homePage.theBinding"),this.$t("homePage.use")]},xAxis:{type:"category",boundaryGap:!1,data:[this.$t("homePage.Monday"),this.$t("homePage.Tuesday"),this.$t("homePage.Wednesday"),this.$t("homePage.Thursday"),this.$t("homePage.Friday"),this.$t("homePage.Saturday"),this.$t("homePage.Sunday")]},yAxis:{type:"value"},series:[{name:this.$t("homePage.new"),type:"line",stack:this.$t("homePage.total"),data:[120,132,101,134,90,230,210]},{name:this.$t("homePage.theBinding"),type:"line",stack:this.$t("homePage.total"),data:[220,182,191,234,290,330,310]},{name:this.$t("homePage.use"),type:"line",stack:this.$t("homePage.total"),data:[150,232,201,154,190,330,410]}]}}},created(){this.startDateDisabled.disabledDate=t=>t.getTime()>Date.now(),this.activeDate=this.$moment(new Date).format("YYYY-MM-DD")},watch:{activeName:{handler(t){this.remoteType="first"===t?"s4":"s3"},immediate:!0}},mounted(){this.getCountData(),this.getDistribution(),this.getActivity(),window.addEventListener("resize",l["a"].debounce(this.fnDraw,300))},destroyed(){window.removeEventListener("resize",l["a"].debounce(this.fnDraw,300))},methods:{tabClick(t){this.activeName=t.name,this.getCountData(),this.getDistribution(),this.getActivity()},getActivity(){if(null===this.activeDate)return;let t="";switch(this.activeRadio){case"week":t=this.$moment(this.activeDate).subtract("days",6).format("YYYY-MM-DD");break;case"month":t=this.$moment(this.activeDate).subtract("days",29).format("YYYY-MM-DD");break;case"quarter":t=this.$moment(this.activeDate).subtract("days",89).format("YYYY-MM-DD");break;case"year":t=this.$moment(this.activeDate).subtract("days",364).format("YYYY-MM-DD");break}Object(d["hc"])({endTime:this.activeDate,startTime:t},{headers:{remote:this.remoteType}}).then(t=>{let e=[],s=[],a=[];t.data.addition.forEach(t=>{t.date&&e.push(t.count)}),t.data.binding.forEach(t=>{t.date&&s.push(t.count)});let i=[];t.data.use.forEach(t=>{t.date&&(i.push(t.date),a.push(t.count))}),this.activeOption.xAxis.data=i,this.activeOption.series[0].data=e,this.activeOption.series[1].data=s,this.activeOption.series[2].data=a;let o=r.a.init(document.getElementById("myChartActive"));o.setOption(this.activeOption)})},getCountData(){Object(d["pc"])({deviceType:this.situation},{headers:{remote:this.remoteType}}).then(t=>{this.situationUlList[0].value=t.data.all,this.situationUlList[1].value=t.data.binding,this.situationUlList[2].value=t.data.activate})},getDistribution(){Object(d["yc"])({institutionId:-1},{headers:{remote:this.remoteType}}).then(t=>{let e=t.data.modelType.reduce((t,e,s)=>{let a=t.findIndex(t=>t.device_model===e.device_model);return-1===a&&t.push(e),-1!==a&&(t[a].count=t[a].count+e.count),t},[]),s=e.reduce((t,e,s)=>{let a=t.findIndex(t=>t.device_type===e.device_type);return-1===a&&t.push(e),-1!==a&&(t[a].count=t[a].count+e.count),t},[]),a=[];s.forEach(t=>{a.push({value:t.count,name:t.device_type})}),this.optionsList[0].series[0].data=a;let i=[];e.forEach(t=>{i.push({value:t.count,name:t.device_model})}),this.optionsList[1].series[0].data=i;let o=[{value:t.data.binding[1].count,name:this.$t("homePage.isbinding")},{value:t.data.binding[0].count,name:this.$t("homePage.nobinding")}];this.optionsList[2].series[0].data=o,this.fnDraw()})},blurPicker(){null!==this.activeDate&&this.getActivity()},fnDraw(){this.optionsList.forEach((t,e)=>{let s=r.a.init(document.getElementById("myChart"+e));s.setOption(t)});let t=r.a.init(document.getElementById("myChartActive"));t.setOption(this.activeOption)}}},m=u,h=(s("e4de"),s("2877")),p=Object(h["a"])(m,o,n,!1,null,"3d3ad020",null),v=p.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"doctorHomePage"},[e("h3",{staticClass:"doctorHomePage_title"},[t._v(" "+t._s(t.userName)+" "+t._s(t.$t("ventilator.table11"))+" "+t._s(t.daytime)+" ")]),e("div",{staticClass:"dataSurvey"},[e("div",{staticClass:"title"},[e("p",{staticClass:"fz_20"},[t._v(t._s(t.$t("doctorHome.doctor5")))]),e("i",{staticClass:"iconfont icon-shuaxin",on:{click:t.refreshView}})]),e("el-row",{attrs:{gutter:30}},[e("el-col",{attrs:{md:12,lg:6}},[e("div",{staticClass:"dataSurvey_three",on:{click:t.viewPatientData}},[e("div",{staticClass:"top"},[e("span",[t._v(t._s(t.$t("doctorHome.doctor6")))]),e("span",{on:{click:t.viewPatientData}},[t._v(t._s(t.$t("doctorHome.doctor7")))])]),e("div",{staticClass:"circle"},[t._v(t._s(t.patientAllNum||0))]),e("div",{staticClass:"down"},[e("div",[e("span",[t._v(t._s(t.patientAllNum-t.patientMonthNum||0))]),e("p",[e("i"),t._v(t._s(t.$t("doctorHome.doctor9")))])]),e("div",[e("span",[t._v(t._s(t.patientMonthNum||0)+" "),e("span",{staticClass:"ratio"},[e("i",{staticClass:"iconfont icon-long-arrow-up"}),t._v(" "+t._s(t.patientMonthRatio)+" ")])]),e("p",[e("i"),t._v(t._s(t.$t("doctorHome.doctor10")))])])])])]),e("el-col",{attrs:{md:12,lg:6}},[e("div",{staticClass:"dataSurvey_three",on:{click:t.viewData}},[e("div",{staticClass:"top"},[e("span",[t._v(t._s(t.$t("doctorHome.doctor11")))]),e("span",{on:{click:t.viewData}},[t._v(t._s(t.$t("doctorHome.doctor7")))])]),e("div",{ref:"echartsDevice",staticClass:"echarts",staticStyle:{width:"180px",height:"180px",margin:"58px auto"}})])]),e("el-col",{attrs:{md:24,lg:12}},[e("el-row",{attrs:{gutter:30}},t._l(t.deviceList,(function(s,a){return e("el-col",{key:a,attrs:{md:12,lg:8}},[e("div",{staticClass:"deviceColBox",on:{click:t.viewData}},[e("div",{staticClass:"type fl_sb"},[e("span",[t._v(t._s(s.deviceType))]),e("span",{class:"pop deviceBg"+a},[e("i",{staticClass:"iconfont icon-popicon"})])]),e("div",{staticClass:"deviceNum"},[t._v(" "+t._s(s.deviceNum)+" "+t._s(t.$t("doctorHome.doctor14"))+" ")]),e("div",{staticClass:"ratio"},[e("p",{class:"deviceClo"+a},[e("i",{staticClass:"iconfont icon-path"}),t._v(t._s(s.deviceRatio)+" ")]),e("span",[t._v(t._s(t.$t("institutionHome.institution6")))])])])])})),1)],1)],1)],1),e("div",{staticClass:"overview"},[e("div",{staticClass:"tabs fl_sb"},[e("div",{staticClass:"minTitle"},[e("span",{class:[1==t.textIndex?"textColor":""],on:{click:function(e){return t.setletItem(1)}}},[t._v(t._s(t.$t("doctorHome.doctor17")))]),e("span",{staticClass:"solidSpan"}),e("span",{class:[2==t.textIndex?"textColor":""],on:{click:function(e){return t.setletItem(2)}}},[t._v(t._s(t.$t("doctorHome.doctor18")))])]),e("div",{staticClass:"setletDay"},[e("div",{class:[7==t.day?"itemColor":""],on:{click:function(e){return t.setDay(7)}}},[t._v(" 7"+t._s(t.$t("doctorHome.doctor16"))+" ")]),e("div",{class:[30==t.day?"itemColor":""],on:{click:function(e){return t.setDay(30)}}},[t._v(" 30"+t._s(t.$t("doctorHome.doctor16"))+" ")])])]),e("transition",{attrs:{name:"el-fade-in"}},[e("el-row",{directives:[{name:"show",rawName:"v-show",value:1==t.textIndex,expression:"textIndex == 1"}],staticClass:"flowolpatientBox",attrs:{gutter:30}},[t._l(t.flowolList,(function(s,a){return e("el-col",{key:a,attrs:{md:12,lg:6}},[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[e("div",{staticClass:"fl_cc"},[t._v(" "+t._s(s.popover)+" ")]),e("div",{staticClass:"flowolpatient",attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"flowolName fl_sb"},[e("div",{staticClass:"left"},[e("i",{staticClass:"iconfont icon-yes"}),e("span",[t._v(t._s(s.title))])]),e("span",{staticClass:"doto",on:{click:function(e){return t.viewData3(s.query)}}},[t._v(t._s(t.$t("doctorHome.doctor7")))])]),e("div",{staticClass:"flowolNum"},[e("p",[e("span",[t._v(t._s(s.num)+" "+t._s(t.$t("doctorHome.doctor14")))]),e("span",[t._v(t._s(t.$t("institutionHome.institution6"))+" "+t._s(s.radio||0)+"%")])])])])])],1)})),e("el-col",{attrs:{md:12,lg:6}},[e("ul",{staticClass:"userDay"},[e("li",{staticClass:"flowolpatient"},[e("h5",[t._v(" "+t._s(t.$t("doctorHome.doctor22"))+" "+t._s(t.$t("doctorHome.doctor23"))+" ")]),e("p",[t._v(t._s(t.avgUseDay||"--"))])]),e("li",{staticClass:"flowolpatient"},[e("h5",[t._v(" "+t._s(t.$t("doctorHome.doctor22"))+" "+t._s(t.$t("doctorHome.doctor24"))+" ")]),e("p",[t._v(t._s(t.avgValidDay||"--"))])])])])],2)],1),e("transition",{attrs:{name:"el-fade-in"}},[t._v(" "+t._s(t.textIndex)+" "),e("el-row",{directives:[{name:"show",rawName:"v-show",value:2==t.textIndex,expression:"textIndex == 2"}],staticClass:"patAHI",attrs:{gutter:30}},[e("el-col",{attrs:{md:24,lg:12}},[e("div",{staticClass:"patAHIcanvasIn"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("doctorHome.doctor34"))+" ")]),e("div",{ref:"patientAHI",staticClass:"patAHIcanvas"})])]),e("el-col",{attrs:{md:24,lg:12}},[e("div",{staticClass:"patAHIcanvasIn"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("doctorHome.doctor35"))+" ")]),e("div",{ref:"patientDevice",staticClass:"patAHIcanvas"})])])],1)],1)],1),e("transition",{attrs:{name:"el-fade-in"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.textIndex,expression:"textIndex == 1"}],staticClass:"statistics"},[e("div",{staticClass:"statisticsIn"},[e("h3",[t._v(t._s(t.$t("newAdd.new97")))]),e("el-row",{attrs:{gutter:30}},[e("el-col",{attrs:{md:24,lg:24,xl:14}},[e("div",{ref:"patientToaol",staticClass:"it",staticStyle:{width:"720px",height:"400px"}})]),e("el-col",{attrs:{md:24,lg:24,xl:10}},[e("div",{staticClass:"flwtoalItem it"},t._l(t.flwList,(function(s,a){return e("div",{key:a,staticClass:"ty",on:{click:function(e){return t.goPage(30==t.day?t.timeList30[a].value:t.timeList7[a].value)}}},[e("h2",[t._v(t._s(s.num)+" "+t._s(t.$t("doctorHome.doctor14")))]),e("span",{staticClass:"str"},[t._v(t._s(t.$t("doctorHome.doctor42"))+" "+t._s(30==t.day?t.timeList30[a].label:t.timeList7[a].label)+" ")]),e("span",{staticClass:"plNum"},[t._v(" "+t._s(t.$t("doctorHome.doctor33"))+" "+t._s(s.ratio||0)+"%")])])})),0)])],1)],1)])])],1)},g=[],w={data(){return{daytime:"",userName:JSON.parse(localStorage.getItem("userInfo")).username,deviceList:[],day:30,patientSum:"",complianceNum:"",notComplianceNum:"",notUseNum:"",avgValidDay:"",avgUseDay:"",textIndex:1,patien1:"",patien2:"",patien3:"",patien4:"",patientAllNum:"",patientThisMonthNum:"",patientMonthRatio:"",patientMonthNum:"",clearIntervals:"",timeList30:[{label:"0~9 "+this.$t("complianceManage.compliance20"),value:"0,9"},{label:"10~15 "+this.$t("complianceManage.compliance20"),value:"10,15"},{label:"16~20 "+this.$t("complianceManage.compliance20"),value:"16,20"},{label:"21 "+this.$t("complianceManage.compliance31"),value:"21,99"}],timeList7:[{label:"0~1 "+this.$t("complianceManage.compliance20"),value:"0,1"},{label:"2~3 "+this.$t("complianceManage.compliance20"),value:"2,3"},{label:"4~5 "+this.$t("complianceManage.compliance20"),value:"4,5"},{label:"5 "+this.$t("complianceManage.compliance31"),value:"5,99"}],flwList:[]}},computed:{flowolList(){return[{title:this.$t("doctorHome.doctor19"),query:3,num:this.complianceNum,radio:Math.round(this.complianceNum/this.patientSum*100),popover:"The patients with ≥4 hours days of device use for more than 70% of the selected time period"},{title:this.$t("doctorHome.doctor21"),query:2,num:this.notComplianceNum,radio:Math.round(this.notComplianceNum/this.patientSum*100),popover:"The patients with ≥4 hours days of device use for less than 70% of the selected time period"},{title:this.$t("doctorHome.doctor20"),query:1,num:this.notUseNum,radio:Math.round(this.notUseNum/this.patientSum*100),popover:"The patients who have not used the device in the selected time period"}]}},mounted(){this.getPatienNum(),this.getInfo(30),this.clearIntervals=setInterval(()=>{this.refreshView()},3e4)},destroyed(){clearInterval(this.clearIntervals)},methods:{setDay(t){this.day=t,1==this.textIndex?this.getInfo(this.day):this.getFollow()},setletItem(t){this.textIndex=t,this.$nextTick(()=>{1==t?this.getInfo(this.day):this.getFollow()})},refreshView(){this.getPatienNum(),this.getInfo(this.day)},getFollow(){Object(d["Kb"])().then(({data:t})=>{let e=t.ahiStatisticsVos.map(t=>t.usePatientNum),s=t.leakStatisticsVos.map(t=>t.usePatientNum);this.inEchartsAHi({arr:e,arr1:s})})},getPatienNum(){Object(d["Pb"])().then(({data:t})=>{this.daytime=t.createTime,this.patientAllNum=t.patientAllNum,this.patientMonthNum=t.patientMonthNum,this.patientMonthRatio=t.patientMonthRatio,this.deviceList=t.deviceInfoVos.slice(0,5);let e=t.deviceInfoVos.slice(5,t.deviceInfoVos.length),s={deviceNum:0,deviceRatio:0,deviceType:this.$t("register.userInfo6")};e.map(t=>{s.deviceNum+=t.deviceNum,s.deviceRatio+=+t.deviceRatio.replace("%","")}),s.deviceRatio=s.deviceRatio.toFixed(1)+"%",this.deviceList.push(s),this.topEchInit(t.deviceInfoVos)})},getInfo(t){Object(d["Ob"])({During:t}).then(({data:e})=>{this.complianceNum=e.complianceNum,this.notComplianceNum=e.notComplianceNum,this.notUseNum=e.notUseNum,this.patientSum=e.complianceNum+e.notComplianceNum+e.notUseNum,this.avgValidDay=e.avgValidDay,this.avgUseDay=e.avgUseDay;let s=e.complianceStatisticsVos.map(t=>{switch(t.type){case 1:this.patien1={num:t.validPatientNum,ratio:t.ratio?+t.ratio.replace("%",""):0};break;case 2:this.patien2={num:t.validPatientNum,ratio:t.ratio?+t.ratio.replace("%",""):0};break;case 3:this.patien3={num:t.validPatientNum,ratio:t.ratio?+t.ratio.replace("%",""):0};break;case 4:this.patien3={num:t.validPatientNum,ratio:t.ratio?+t.ratio.replace("%",""):0};break}return t.validPatientNum}),a=e.complianceStatisticsVos.map(t=>t.usePatientNum),i={datao:s,datan:a,text:30==t?this.timeList30:this.timeList7};this.butEchInit(i);let o=[];e.complianceStatisticsVos.map(t=>{o.push({num:t.validPatientNum,ratio:t.ratio?+t.ratio.replace("%",""):null})}),this.flwList=o})},topEchInit(t){let e=r.a.init(this.$refs.echartsDevice),s=t.slice(0,5),a={color:["#6EC3E9","#BAD0F1","#592E8A","#0052CC","#519cec","#a1aaf8"],title:{zlevel:0,text:""+t.length,top:"center",left:"47%",textAlign:"center",subtext:this.$t("doctorHome.doctor12"),itemGap:2,textStyle:{color:"#2662F0",fontSize:"28",fontWeight:"normal"},subtextStyle:{fontSize:"15"}},tooltip:{trigger:"item"},series:[{label:{normal:{position:"inner",show:!1}},type:"pie",radius:["75%","90%"],avoidLabelOverlap:!1,labelLine:{show:!1},data:s.map(t=>({value:t.deviceNum,name:t.deviceType}))}]};e.setOption(a),e.on("click",(function(t){}))},butEchInit(t){let e=t.text.map(t=>t.label),s=r.a.init(this.$refs.patientToaol),a={color:[{type:"linear",x:1,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"rgba(25,40,241,0.68)"},{offset:1,color:"rgba(38,98,240,0.40)"}]},{type:"linear",x:1,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"#164385"},{offset:1,color:"rgba(38,98,240,0.40)"}]}],title:{textStyle:{fontSize:14}},legend:{data:[this.$t("doctorHome.doctor26"),this.$t("doctorHome.doctor27")]},tooltip:{},xAxis:{name:this.$t("doctorHome.doctor16"),data:e,textStyle:{color:"#999"},axisLabel:{formatter:"{value}",textStyle:{color:"#999"}},axisLine:{lineStyle:{color:"#999"}}},yAxis:{splitArea:{show:!1},minInterval:1,textStyle:{color:"#999"},axisLabel:{formatter:"{value}",textStyle:{color:"#999"}},axisLine:{lineStyle:{color:"#999"}}},series:[{label:{show:!0,color:"#fff",formatter:t=>t.datan},barWidth:40,data:t.datan,name:this.$t("doctorHome.doctor26"),type:"bar",itemStyle:{normal:{barBorderRadius:[5,5,0,0]}}},{label:{show:!0,color:"#fff",formatter:t=>t.datao},barWidth:40,data:t.datao,name:this.$t("doctorHome.doctor27"),type:"bar",itemStyle:{normal:{barBorderRadius:[5,5,0,0]}}}]};s.setOption(a),s.on("click",(function(t){}))},inEchartsAHi(t){let e=r.a.init(this.$refs.patientAHI),s=r.a.init(this.$refs.patientDevice),a={color:[{type:"linear",x:1,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"rgba(74,63,151,0.69)"},{offset:1,color:"#6ec3e9"}]}],xAxis:{name:this.$t("doctorHome.doctor36"),type:"category",data:["0~5","5~15","15~30","30"+this.$t("complianceManage.compliance34")],textStyle:{color:"#999"},axisLabel:{formatter:"{value}",textStyle:{color:"#999"}},axisLine:{lineStyle:{color:"#999"}}},yAxis:{name:this.$t("doctorHome.doctor25"),type:"value",minInterval:1,axisLabel:{formatter:"{value}",textStyle:{color:"#999"}},axisLine:{lineStyle:{color:"#999"}}},series:[{label:{show:!0,color:"#fff",formatter:t=>t.value},barWidth:50,type:"bar",data:t.arr,itemStyle:{normal:{barBorderRadius:[5,5,0,0]}}}]},i={color:[{type:"linear",x:1,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"#0052cc"},{offset:1,color:"rgba(25,40,241,0.48)"}]}],xAxis:{name:this.$t("doctorHome.doctor37"),data:["0~5","5~15","15"+this.$t("complianceManage.compliance34")],axisLabel:{formatter:"{value}",textStyle:{color:"#999"}},axisLine:{lineStyle:{color:"#999"}}},yAxis:{name:this.$t("doctorHome.doctor25"),type:"value",minInterval:1,axisLabel:{formatter:"{value}",textStyle:{color:"#999"}},axisLine:{lineStyle:{color:"#999"}}},series:[{label:{show:!0,color:"#fff",formatter:t=>t.value},barWidth:50,type:"bar",data:t.arr1,itemStyle:{normal:{barBorderRadius:[5,5,0,0]}}}]},o=this;e.setOption(a),e.on("click",(function(t){o.$router.push({path:"/complianceList",query:{ahi:t.dataIndex+1}})})),s.setOption(i),s.on("click",(function(t){o.$router.push({path:"/complianceList",query:{leak:t.dataIndex+1}})}))},goPage(t){this.$router.push({path:"/complianceList",query:{dayNum:this.day,validNumDay:t}})},viewData3(t){this.$router.push({path:"/complianceList",query:{dayNum:this.day,complianceNum:t}})},viewData(){this.$router.push({path:"/complianceList"})},viewPatientData(){this.$router.push({path:"/patient"})}}},f=w,y=(s("fec1"),Object(h["a"])(f,_,g,!1,null,"8da5b072",null)),C=y.exports,N=function(){var t=this,e=t._self._c;return e("div")},b=[],x={data(){return{}},mounted(){this.$router.push("/patientComplianceReport")},methods:{}},$=x,P=Object(h["a"])($,N,b,!1,null,"5992745b",null),S=P.exports,A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"shiyanHomePage"},[e("div",{staticClass:"dataSurvey"},[e("div",{staticClass:"title"},[e("p",{staticClass:"fz_20"},[t._v(t._s(t.$t("institutionHome.institution1")))]),e("i",{staticClass:"iconfont icon-shuaxin",on:{click:t.refreshView}})]),e("el-row",{attrs:{gutter:30}},[e("el-col",{attrs:{sm:24,md:12,lg:6,xl:6}},[e("div",{staticClass:"dataSurvey_three",on:{click:function(e){return t.viewData(2)}}},[e("div",{staticClass:"top"},[e("span",[t._v(t._s(t.$t("institutionHome.institution10")))]),e("span",{on:{click:function(e){return t.viewData(2)}}},[t._v(t._s(t.$t("doctorHome.doctor7")))])]),e("div",{ref:"echartsDevice",staticClass:"echarts",staticStyle:{width:"180px",height:"180px",margin:"25px auto"}}),e("div",{staticClass:"down"},[e("div",[e("span",[t._v(t._s(t.deviceSumNum-t.deviceThisMonthNum))]),e("p",[e("i"),t._v(t._s(t.$t("doctorHome.doctor9")))])]),e("div",[e("span",{},[t._v(t._s(t.deviceThisMonthNum)+" "),e("span",[e("i",{staticClass:"iconfont icon-long-arrow-up"}),t._v(" "+t._s(0!=t.deviceThisMonthNum&&0!=t.deviceSumNum?parseInt(t.deviceThisMonthNum/t.deviceSumNum*100)+"%":"0%"))])]),e("p",[e("i"),t._v(t._s(t.$t("doctorHome.doctor10")))])])])])]),t._l(t.dataSurveyThree,(function(s,a){return e("el-col",{key:a,attrs:{sm:24,md:12,lg:6,xl:6}},[e("div",{staticClass:"dataSurvey_three"},[e("div",{staticClass:"top"},[e("span",[t._v(t._s(s.text1))]),e("span",{on:{click:function(e){return t.viewData(s.url)}}},[t._v(t._s(t.$t("doctorHome.doctor7")))])]),e("div",{class:"circle circle"+a},[t._v(" "+t._s(s.text2)+" "),e("span",[t._v(t._s(t.$t("doctorHome.doctor14")))])]),e("div",{staticClass:"down"},[e("div",[e("span",[t._v(t._s(s.text3))]),e("p",[e("i"),t._v(t._s(s.text4))])]),e("div",[e("span",[t._v(t._s(s.text5)+" "),e("span",[e("i",{staticClass:"iconfont icon-long-arrow-up"}),t._v(" "+t._s(0!=s.text5&&s.text2?parseInt(s.text5/s.text2*100)+"%":"0%"))])]),e("p",[e("i"),t._v(t._s(s.text6))])])])])])})),e("el-col",{attrs:{sm:24,md:12,lg:6,xl:6}},[e("div",{staticClass:"dataSurvey_three boxCycle"},[e("div",{staticClass:"top"},[e("span",[t._v(t._s(t.$t("permissions.consumables")))]),e("span",{on:{click:function(e){return t.viewData(3)}}},[t._v(t._s(t.$t("doctorHome.doctor7")))])]),e("div",{staticClass:"titleCol"},t._l(t.titleCoList,(function(s){return e("p",{key:s.cls},[e("span",{class:s.cls}),e("span",[t._v(t._s(s.text))])])})),0),e("ul",{staticClass:"consumableUl"},t._l(t.consumableList,(function(s){return e("li",{key:s.icon},[e("div",{staticClass:"le"},[e("span",[e("i",{class:["iconfont",s.icon]})]),e("span",[t._v(t._s(s.name))])]),e("div",{staticClass:"rg"},[e("div",{staticClass:"progressBox"},[e("div",{staticClass:"proIn"},[e("p",{staticClass:"successBg",style:{width:t.proWidth(s.proName,0)}})]),e("span",[t._v(t._s(t.consumablePro&&t.consumablePro[s.proName].length>0&&t.consumablePro[s.proName][0].count))])]),e("div",{staticClass:"progressBox"},[e("div",{staticClass:"proIn"},[e("p",{staticClass:"warningBg",style:{width:t.proWidth(s.proName,1)}})]),e("span",[t._v(t._s(t.consumablePro&&t.consumablePro[s.proName].length>0&&t.consumablePro[s.proName][1].count))])]),e("div",{staticClass:"progressBox"},[e("div",{staticClass:"proIn"},[e("p",{staticClass:"dangerBg",style:{width:t.proWidth(s.proName,2)}})]),e("span",[t._v(t._s(t.consumablePro&&t.consumablePro[s.proName].length>0&&t.consumablePro[s.proName][2].count))])])])])})),0)])])],2)],1),e("div",{staticClass:"dataSurvey mt24"},[e("div",{staticClass:"patientUsage"},[e("div",{staticClass:"fz_20",staticStyle:{"margin-bottom":"10px"}},[t._v(" "+t._s(t.$t("newAdd.new176"))+" ")]),e("el-row",{staticClass:"contentUsage",attrs:{gutter:30}},[e("el-col",{attrs:{sm:24,md:24,lg:6}},[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[e("div",{staticClass:"fl_cc"},[t._v(" "+t._s(t.popover[0])+" ")]),e("div",{staticClass:"usage_three",attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"top"},[e("span",[e("i",{staticClass:"iconfont icon-warn"})]),e("p",[t._v(t._s(t.$t("newAdd.new178")))])]),e("div",{staticClass:"down"},[""!=t.usageNum1?e("div",{staticClass:"le"},[e("p",[e("i",{staticClass:"iconfont icon-WIFI"}),t._v(" "+t._s(t.$t("newAdd.new188"))+" ")]),e("p",[e("span",[t._v(t._s(t.usageNum1[1].count)+" "+t._s(t.$t("newAdd.new183")))]),t._v(" "+t._s(t.$t("newAdd.new182"))+t._s(Math.round(t.usageNum1[1].count/t.consumablePro.deviceNum*100)||0)+"% ")])]):e("div",{staticClass:"le"},[e("p",[e("i",{staticClass:"iconfont icon-WIFI"}),t._v(" "+t._s(t.$t("newAdd.new188"))+" ")]),e("p",[e("span",[t._v("0 "+t._s(t.$t("newAdd.new183")))]),t._v(" "+t._s(t.$t("newAdd.new182"))+"0% ")])]),""!=t.usageNum1?e("div",{staticClass:"rg"},[e("p",[e("i",{staticClass:"iconfont icon-SDka"}),t._v(" "+t._s(t.$t("newAdd.new189"))+" ")]),e("p",[e("span",[t._v(t._s(t.usageNum1[0].count)+" "+t._s(t.$t("newAdd.new183")))]),t._v(" "+t._s(t.$t("newAdd.new182"))+t._s(Math.round(t.usageNum1[0].count/t.consumablePro.deviceNum*100)||0)+"% ")])]):e("div",{staticClass:"rg"},[e("p",[e("i",{staticClass:"iconfont icon-SDka"}),t._v(" "+t._s(t.$t("newAdd.new189"))+" ")]),e("p",[e("span",[t._v("0 "+t._s(t.$t("newAdd.new183")))]),t._v(" "+t._s(t.$t("newAdd.new182"))+"0% ")])])])])])],1),e("el-col",{attrs:{sm:24,md:24,lg:6}},[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[e("div",{staticClass:"fl_cc"},[t._v(" "+t._s(t.popover[1])+" ")]),e("div",{staticClass:"usage_three",attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"top"},[e("span",[e("i",{staticClass:"iconfont icon-warn"})]),e("p",[t._v(t._s(t.$t("newAdd.new177")))])]),e("div",{staticClass:"down down1"},[e("p",[e("span",[t._v(t._s(t.usageNum30.num||0)+" "+t._s(t.$t("newAdd.new183")))]),t._v(" "+t._s(t.$t("newAdd.new182"))+t._s(t.usageNum30.percent||0)+"% ")])])])])],1),e("el-col",{attrs:{sm:24,md:24,lg:6}},[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[e("div",{staticClass:"fl_cc"},[t._v(" "+t._s(t.popover[2])+" ")]),e("div",{staticClass:"usage_three",attrs:{slot:"reference"},on:{click:t.goCompliance},slot:"reference"},[e("div",{staticClass:"top"},[e("span",[e("i",{staticClass:"iconfont icon-tixingshixin"})]),e("p",[t._v(t._s(t.$t("newAdd.new213")))])]),e("div",{staticClass:"down down1"},[e("p",[e("span",[t._v(t._s(t.agentHomepageData.notUse30||0)+" "+t._s(t.$t("newAdd.new183")))]),t._v(" "+t._s(t.$t("newAdd.new182"))+t._s(parseInt(t.agentHomepageData.notUse30/t.agentHomepageData.activateCount*100)||0)+"% ")])])])])],1),e("el-col",{attrs:{sm:24,md:24,lg:6}},[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[e("div",{staticClass:"fl_cc"},[t._v(" "+t._s(t.popover[3])+" ")]),e("div",{staticClass:"usage_three",attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"top"},[e("span",[e("i",{staticClass:"iconfont icon-tixingshixin"})]),e("p",[t._v(t._s(t.$t("newAdd.new179")))])]),e("div",{staticClass:"down"},[e("div",[e("span",[t._v(t._s(t.consumablePro&&t.consumablePro.filterCount.length>0&&t.consumablePro.filterCount[2].count))]),e("p",[t._v(t._s(t.$t("newAdd.new149")))])]),e("div",[e("span",[t._v(t._s(t.consumablePro&&t.consumablePro.tubeCount.length>0&&t.consumablePro.tubeCount[2].count))]),e("p",[t._v(t._s(t.$t("newAdd.new150")))])]),e("div",[e("span",[t._v(t._s(t.consumablePro&&t.consumablePro.maskCount.length>0&&t.consumablePro.maskCount[2].count))]),e("p",[t._v(t._s(t.$t("newAdd.new151")))])]),e("div",[e("span",[t._v(t._s(t.consumablePro&&t.consumablePro.waterTankCount.length>0&&t.consumablePro.waterTankCount[2].count))]),e("p",[t._v(t._s(t.$t("newAdd.new152")))])])])])])],1)],1)],1),e("div",{staticClass:"deviceUsage"},[e("div",{staticClass:"fz_20",staticStyle:{"margin-bottom":"10px"}},[t._v(" "+t._s(t.$t("newAdd.new190"))+" ")]),e("el-row",{staticClass:"contentDcUsage",attrs:{gutter:30}},[e("el-col",{attrs:{sm:24,md:12,lg:6}},[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[e("div",{staticClass:"fl_cc"},[t._v(" Activated device is the device that has been bound to the patient ")]),e("div",{staticClass:"dataSurvey_three oneCard",attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"top"},[e("span",[e("i",{staticClass:"iconfont icon-icon_jihuo"})]),e("span",{on:{click:function(e){return t.viewData(2)}}},[t._v(t._s(t.$t("doctorHome.doctor7")))])]),e("div",{staticClass:"down"},[e("p",[t._v(t._s(t.$t("newAdd.new191")))]),e("span",[t._v(t._s(t.agentHomepageData.activateCount||0))])])])])],1),t._l(t.deviceUsageList,(function(s,a){return e("el-col",{key:a,attrs:{sm:24,md:12,lg:6}},[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[e("div",{staticClass:"fl_cc"},[t._v(" Therapy days is the days since the device start date ")]),e("div",{staticClass:"dataSurvey_three",attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"top"},[e("span",[t._v(" "+t._s(s.title))]),e("span",{on:{click:function(e){return t.viewData(4,{useDay:s.day})}}},[t._v(t._s(t.$t("doctorHome.doctor7")))])]),e("div",{staticClass:"down fl_cc"},[e("span",[t._v(" "+t._s(t.agentHomepageData[s.num]||0)+" "+t._s(t.$t("doctorHome.doctor14")))])])])])],1)}))],2)],1)]),e("div",{staticClass:"dataSurvey useSurvey"},[e("div",{staticClass:"title fl_sb"},[e("p",{staticClass:"fz_20"},[t._v(t._s(t.$t("newAdd.new193")))]),e("ul",[e("li",{class:[7==t.day?"optFor":""],on:{click:function(e){return t.setDay(7)}}},[t._v(" 7"+t._s(t.$t("doctorHome.doctor16"))+" ")]),e("li",{class:[30==t.day?"optFor":""],on:{click:function(e){return t.setDay(30)}}},[t._v(" 30"+t._s(t.$t("doctorHome.doctor16"))+" ")])])]),e("el-row",{attrs:{gutter:30}},t._l(t.useSurveyThree,(function(s,a){return e("el-col",{key:a,attrs:{sm:24,md:24,lg:8}},[e("div",{class:"useSurvey_three useSurvey"+a},[e("div",{staticClass:"top"},[e("span",[e("i",{staticClass:"iconfont icon-shijian"})]),e("p",[t._v(t._s(s.text1))])]),e("span",{staticClass:"line"}),e("div",{staticClass:"dow"},[e("div",{staticClass:"proportion"},[e("h5",[t._v(t._s(s.text2)+" "+t._s(t.$t("doctorHome.doctor14")))]),e("p",[t._v(" "+t._s(t.$t("institutionHome.institution6"))+" "+t._s(s.text3)+"% ")])])])])])})),1)],1)])},D=[],k=(s("f4dd"),s("5a0c")),H=s.n(k),I={data(){return{day:30,patientAllNum:0,patientMonthRatio:0,patientMonthNum:0,patientThisMonthNum:0,doctorSumNum:0,doctorMonthNum:0,deviceSumNum:0,deviceMonthNum:0,adddeviceMonthNum:0,doctorUseNum:0,doctorUseNumProportion:0,patientUseNum:0,patientUseNumProportion:0,devicetUseNum:0,devicetUseNumProportion:0,deviceThisMonthNum:0,doctorThisMonthNum:0,clearIntervals:0,agentHomepageData:{patientMonthRatio:"0%",patientSumNum:0,patientThisMonthNum:0,doctorSumNum:0,doctorThisMonthNum:0,deviceSumNum:0,activateCount:0,deviceNetTypeCount:[{date:"WIFI",count:0},{date:"2G/4G",count:0},{date:"NO",count:0}],deviceThisMonthNum:0,doctorUseNum:0,patientUseNum:0,devicetUseNum:0,doctorUseNumProportion:0,patientUseNumProportion:0,devicetUseNumProportion:0,notUse30:0},popover:["This card shows the numbers of people using wifi or SD card devices for <4 hours yesterday","This card shows the number of people who have used wifi or SD card devices for <4 hours in the last 30 days","Patients that never uploaded data after 30 days from the device time date","This card shows the number of different types of consumables that need to be replaced"],consumablePro:{deviceNum:45,waterTankCount:[{date:"1",count:0},{date:"2",count:0},{date:"3",count:0}],tubeCount:[{date:"1",count:0},{date:"2",count:0},{date:"3",count:0}],filterCount:[{date:"1",count:0},{date:"2",count:0},{date:"3",count:0}],maskCount:[{date:"1",count:0},{date:"2",count:0},{date:"3",count:0}]},titleCoList:[{cls:"successBg",text:this.$t("newAdd.new153")},{cls:"warningBg",text:this.$t("newAdd.new154")},{cls:"dangerBg",text:this.$t("newAdd.new155")}],consumableList:[{icon:"icon-mianhua",name:this.$t("newAdd.new149"),proName:"filterCount"},{icon:"icon-RectangleCopy",name:this.$t("newAdd.new150"),proName:"tubeCount"},{icon:"icon-renlianshibie",name:this.$t("newAdd.new151"),proName:"maskCount"},{icon:"icon-qingshuixiang",name:this.$t("newAdd.new152"),proName:"waterTankCount"}],usageNum30:{num:"",percent:""},usageNum1:[{count:""},{count:""}],deviceUsageList:[{title:this.$t("newAdd.new192",{day:30}),num:"reportNum3",day:30},{title:this.$t("newAdd.new192",{day:60}),num:"reportNum6",day:60},{title:this.$t("newAdd.new192",{day:90}),num:"reportNum9",day:90}]}},computed:{dataSurveyThree(){return[{text1:this.$t("institutionHome.institution9"),text2:this.doctorSumNum,text3:this.doctorSumNum-this.doctorThisMonthNum,text4:this.$t("doctorHome.doctor9"),text5:this.doctorThisMonthNum,text6:this.$t("doctorHome.doctor10"),url:1},{text1:this.$t("institutionHome.institution8"),text2:this.patientAllNum,text3:this.patientThisMonthNum,text4:this.$t("doctorHome.doctor9"),text5:this.patientMonthNum,text6:this.$t("doctorHome.doctor10"),url:0}]},useSurveyThree(){return[{text1:this.$t("newAdd.new202",{day:this.day}),text2:this.doctorUseNum,text3:this.doctorUseNumProportion,text4:"#592E8A"},{text1:this.$t("newAdd.new203",{day:this.day}),text2:this.patientUseNum,text3:this.patientUseNumProportion,text4:"#0052CC"},{text1:30==this.day?this.$t("institutionHome.institution15"):this.$t("institutionHome.institution18"),text2:this.devicetUseNum,text3:this.devicetUseNumProportion,text4:"#2F7DC1"}]}},async mounted(){await this.getInfo(30),await this.getagentHomepage(),await this.consumableCount(),await this.getPatientUsage(),await this.getUsageYesterday(),this.clearIntervals=setInterval(()=>{this.refreshView()},3e4)},destroyed(){clearInterval(this.clearIntervals)},methods:{format(t){return t},goCompliance(){this.$router.push({path:"/patient",query:{notUseDay:30}})},proWidth(t,e){return this.consumablePro&&this.consumablePro[t].length>0?parseInt(this.consumablePro[t][e].count/this.consumablePro.deviceNum*100)+"%":1},async consumableCount(){await Object(d["u"])().then(({data:t})=>{this.consumablePro=t})},async getPatientUsage(){await Object(d["Ob"])({During:30}).then(({data:t})=>{this.usageNum30={num:parseInt(t.notComplianceNum),percent:0==this.consumablePro.deviceNum?0:Math.round(t.notComplianceNum/(t.notComplianceNum+t.notUseNum+t.complianceNum)*100)}})},async getUsageYesterday(){await Object(d["r"])({dayTime:H()().format("YYYY-MM-DD")}).then(({data:t})=>{this.usageNum1=t})},async getagentHomepage(){await Object(d["l"])().then(({data:t})=>{this.agentHomepageData=t,this.patientAllNum=t.patientSumNum?t.patientSumNum:0;let e=t.patientSumNum-t.patientThisMonthNum;this.patientThisMonthNum=e||0,this.patientMonthNum=t.patientThisMonthNum,this.patientMonthRatio=t.patientMonthRatio,this.doctorSumNum=t.doctorSumNum,this.doctorThisMonthNum=t.doctorThisMonthNum,this.deviceSumNum=t.deviceSumNum,this.deviceThisMonthNum=t.deviceThisMonthNum;let s=[{date:"WIFI",count:0},{date:"2G/4G",count:0},{date:"NO",count:0},...t.deviceNetTypeCount],a={};const i=s.reduceRight((t,e)=>(!a[e.date]&&(a[e.date]=t.push(e)),t),[]);this.topEchInit(i)})},async getInfo(t){await Object(d["m"])(t).then(({data:t})=>{this.doctorUseNum=t.doctorUseNum,this.doctorUseNumProportion=t.doctorUseNumProportion,this.patientUseNum=t.patientUseNum,this.patientUseNumProportion=t.patientUseNumProportion,this.devicetUseNum=t.devicetUseNum,this.devicetUseNumProportion=t.devicetUseNumProportion})},refreshView(){this.getagentHomepage(),this.getInfo(this.day),this.getPatientUsage(),this.getUsageYesterday()},setDay(t){this.day=t,this.getInfo(this.day)},deviceRECharts(t){let e=r.a.init(this.$refs.deviceRECharts);e.clear();let s=r.a.init(this.$refs.deviceRECharts),a={backgroundColor:"#fff",color:["#5243AA"],grid:{left:"2%",right:"2%",bottom:"2%",containLabel:!0},tooltip:{trigger:"axis"},xAxis:{data:t.map(t=>t.addTime=this.$dateFmtFun(t.addTime)),axisTick:{show:!1},textStyle:{color:"#999"},axisLabel:{formatter:"{value}",textStyle:{color:"#999"}},axisLine:{show:!1,lineStyle:{color:"#999"}},splitLine:{show:!0,lineStyle:{color:"#EBEEF5"}}},yAxis:{splitArea:{show:!1},axisTick:{show:!1},minInterval:1,textStyle:{color:"#999"},axisLabel:{formatter:"{value}",textStyle:{color:"#999"}},axisLine:{show:!1,lineStyle:{color:"#999"}},splitLine:{show:!1}},series:[{name:this.$t("doctorHome.doctor25"),smooth:!0,symbol:"circle",type:"line",data:t.map(t=>t.num)}]};s.setOption(a)},viewData(t,e){0==t&&this.$router.push({path:"/patient"}),1==t&&this.$router.push({path:"/doctorList"}),2==t&&this.$router.push({path:"/ventilator"}),3==t&&this.$router.push({path:"/consumablesList"}),4==t&&this.$router.push({path:"/patient",query:e})},topEchInit(t){let e=r.a.init(this.$refs.echartsDevice),s=t.slice(0,5),a={color:["#6EC3E9","#BAD0F1","#592E8A","#0052CC","#519cec","#a1aaf8"],title:{zlevel:0,text:this.deviceSumNum,top:"center",left:"47%",textAlign:"center",subtext:this.$t("doctorHome.doctor12"),itemGap:2,textStyle:{color:"#2662F0",fontSize:"28",fontWeight:"700"},subtextStyle:{fontSize:"15"}},tooltip:{trigger:"item"},series:[{label:{normal:{position:"inner",show:!1}},type:"pie",radius:["75%","90%"],avoidLabelOverlap:!1,labelLine:{show:!1},data:s.map(t=>({value:t.count,name:t.date}))}]};e.setOption(a),e.on("click",(function(t){}))}}},U=I,T=(s("b4ed"),Object(h["a"])(U,A,D,!1,null,"124a4317",null)),M=T.exports,L=function(){var t=this,e=t._self._c;return t.formatShow?e("div",{staticClass:"shiyanHomePage"},[e("div",{staticClass:"dataSurvey"},[e("div",{staticClass:"title"},[e("p",{staticClass:"fz_20"},[t._v(t._s(t.$t("institutionHome.institution1")))]),e("i",{staticClass:"iconfont icon-shuaxin",on:{click:t.refreshView}})]),e("el-row",{attrs:{gutter:30}},[t.list[0].show?e("el-col",{attrs:{sm:24,md:12,lg:6,xl:6}},[e("div",{staticClass:"dataSurvey_three",on:{click:function(e){return t.viewData(2)}}},[e("div",{staticClass:"top"},[e("span",[t._v(t._s(t.$t("institutionHome.institution10")))]),e("span",{on:{click:function(e){return t.viewData(2)}}},[t._v(t._s(t.$t("doctorHome.doctor7")))])]),e("div",{ref:"echartsDevice",staticClass:"echarts",staticStyle:{width:"180px",height:"180px",margin:"25px auto"}}),e("div",{staticClass:"down"},[e("div",[e("span",[t._v(t._s(t.deviceSumNum-t.deviceThisMonthNum))]),e("p",[e("i"),t._v(t._s(t.$t("doctorHome.doctor9")))])]),e("div",[e("span",{},[t._v(t._s(t.deviceThisMonthNum)+" "),e("span",[e("i",{staticClass:"iconfont icon-long-arrow-up"}),t._v(" "+t._s(0!=t.deviceThisMonthNum&&0!=t.deviceSumNum?parseInt(t.deviceThisMonthNum/t.deviceSumNum*100)+"%":"0%"))])]),e("p",[e("i"),t._v(t._s(t.$t("doctorHome.doctor10")))])])])])]):t._e(),t._l(t.dataSurveyThree,(function(s,a){return s.show?e("el-col",{key:a,attrs:{sm:24,md:12,lg:6,xl:6}},[e("div",{staticClass:"dataSurvey_three"},[e("div",{staticClass:"top"},[e("span",[t._v(t._s(s.text1))]),e("span",{on:{click:function(e){return t.viewData(s.url)}}},[t._v(t._s(t.$t("doctorHome.doctor7")))])]),e("div",{class:"circle circle"+a},[t._v(" "+t._s(s.text2)+" "),e("span",[t._v(t._s(t.$t("doctorHome.doctor14")))])]),e("div",{staticClass:"down"},[e("div",[e("span",[t._v(t._s(s.text3))]),e("p",[e("i"),t._v(t._s(s.text4))])]),e("div",[e("span",[t._v(t._s(s.text5)+" "),e("span",[e("i",{staticClass:"iconfont icon-long-arrow-up"}),t._v(" "+t._s(0!=s.text5&&s.text2?parseInt(s.text5/s.text2*100)+"%":"0%"))])]),e("p",[e("i"),t._v(t._s(s.text6))])])])])]):t._e()})),t.list[3].show?e("el-col",{attrs:{sm:24,md:12,lg:6,xl:6}},[e("div",{staticClass:"dataSurvey_three boxCycle"},[e("div",{staticClass:"top"},[e("span",[t._v(t._s(t.$t("permissions.consumables")))]),e("span",{on:{click:function(e){return t.viewData(3)}}},[t._v(t._s(t.$t("doctorHome.doctor7")))])]),e("div",{staticClass:"titleCol"},t._l(t.titleCoList,(function(s){return e("p",{key:s.cls},[e("span",{class:s.cls}),e("span",[t._v(t._s(s.text))])])})),0),e("ul",{staticClass:"consumableUl"},t._l(t.consumableList,(function(s){return e("li",{key:s.icon},[e("div",{staticClass:"le"},[e("span",[e("i",{class:["iconfont",s.icon]})]),e("span",[t._v(t._s(s.name))])]),e("div",{staticClass:"rg"},[e("div",{staticClass:"progressBox"},[e("div",{staticClass:"proIn"},[e("p",{staticClass:"successBg",style:{width:t.proWidth(s.proName,0)}})]),e("span",[t._v(t._s(t.consumablePro&&t.consumablePro[s.proName].length>0&&t.consumablePro[s.proName][0].count))])]),e("div",{staticClass:"progressBox"},[e("div",{staticClass:"proIn"},[e("p",{staticClass:"warningBg",style:{width:t.proWidth(s.proName,1)}})]),e("span",[t._v(t._s(t.consumablePro&&t.consumablePro[s.proName].length>0&&t.consumablePro[s.proName][1].count))])]),e("div",{staticClass:"progressBox"},[e("div",{staticClass:"proIn"},[e("p",{staticClass:"dangerBg",style:{width:t.proWidth(s.proName,2)}})]),e("span",[t._v(t._s(t.consumablePro&&t.consumablePro[s.proName].length>0&&t.consumablePro[s.proName][2].count))])])])])})),0)])]):t._e()],2)],1),t.list[0].show||t.list[1].show||t.list[2].show||t.list[4].show?e("div",{staticClass:"dataSurvey mt24"},[t.list[3].show||t.list[4].show?e("div",{staticClass:"patientUsage"},[e("div",{staticClass:"fz_20",staticStyle:{"margin-bottom":"10px"}},[t._v(" "+t._s(t.$t("newAdd.new176"))+" ")]),e("el-row",{staticClass:"contentUsage",attrs:{gutter:30}},[t.list[4].show?e("el-col",{attrs:{sm:24,md:24,lg:6}},[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[e("div",{staticClass:"fl_cc"},[t._v(" "+t._s(t.popover[0])+" ")]),e("div",{staticClass:"usage_three",attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"top"},[e("span",[e("i",{staticClass:"iconfont icon-warn"})]),e("p",[t._v(t._s(t.$t("newAdd.new178")))])]),e("div",{staticClass:"down"},[""!=t.usageNum1?e("div",{staticClass:"le"},[e("p",[e("i",{staticClass:"iconfont icon-WIFI"}),t._v(" "+t._s(t.$t("newAdd.new188"))+" ")]),e("p",[e("span",[t._v(t._s(t.usageNum1[1].count)+" "+t._s(t.$t("newAdd.new183")))]),t._v(" "+t._s(t.$t("newAdd.new182"))+t._s(Math.round(t.usageNum1[1].count/t.consumablePro.deviceNum*100)||0)+"% ")])]):e("div",{staticClass:"le"},[e("p",[e("i",{staticClass:"iconfont icon-WIFI"}),t._v(" "+t._s(t.$t("newAdd.new188"))+" ")]),e("p",[e("span",[t._v("0 "+t._s(t.$t("newAdd.new183")))]),t._v(" "+t._s(t.$t("newAdd.new182"))+"0% ")])]),""!=t.usageNum1?e("div",{staticClass:"rg"},[e("p",[e("i",{staticClass:"iconfont icon-SDka"}),t._v(" "+t._s(t.$t("newAdd.new189"))+" ")]),e("p",[e("span",[t._v(t._s(t.usageNum1[0].count)+" "+t._s(t.$t("newAdd.new183")))]),t._v(" "+t._s(t.$t("newAdd.new182"))+t._s(Math.round(t.usageNum1[0].count/t.consumablePro.deviceNum*100)||0)+"% ")])]):e("div",{staticClass:"rg"},[e("p",[e("i",{staticClass:"iconfont icon-SDka"}),t._v(" "+t._s(t.$t("newAdd.new189"))+" ")]),e("p",[e("span",[t._v("0 "+t._s(t.$t("newAdd.new183")))]),t._v(" "+t._s(t.$t("newAdd.new182"))+"0% ")])])])])])],1):t._e(),t.list[4].show?e("el-col",{attrs:{sm:24,md:24,lg:6}},[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[e("div",{staticClass:"fl_cc"},[t._v(" "+t._s(t.popover[1])+" ")]),e("div",{staticClass:"usage_three",attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"top"},[e("span",[e("i",{staticClass:"iconfont icon-warn"})]),e("p",[t._v(t._s(t.$t("newAdd.new177")))])]),e("div",{staticClass:"down down1"},[e("p",[e("span",[t._v(t._s(t.usageNum30.num||0)+" "+t._s(t.$t("newAdd.new183")))]),t._v(" "+t._s(t.$t("newAdd.new182"))+t._s(t.usageNum30.percent||0)+"% ")])])])])],1):t._e(),t.list[2].show||t.list[4].show?e("el-col",{attrs:{sm:24,md:24,lg:6}},[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[e("div",{staticClass:"fl_cc"},[t._v(" "+t._s(t.popover[1])+" ")]),e("div",{staticClass:"usage_three",attrs:{slot:"reference"},on:{click:t.goCompliance},slot:"reference"},[e("div",{staticClass:"top"},[e("span",[e("i",{staticClass:"iconfont icon-tixingshixin"})]),e("p",[t._v(t._s(t.$t("newAdd.new213")))])]),e("div",{staticClass:"down down1"},[e("p",[e("span",[t._v(t._s(t.agentHomepageData.notUse30||0)+" "+t._s(t.$t("newAdd.new183")))]),t._v(" "+t._s(t.$t("newAdd.new182"))+t._s(parseInt(t.agentHomepageData.notUse30/t.agentHomepageData.activateCount*100)||0)+"% ")])])])])],1):t._e(),t.list[3].show?e("el-col",{attrs:{sm:24,md:24,lg:6}},[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[e("div",{staticClass:"fl_cc"},[t._v(" "+t._s(t.popover[2])+" ")]),e("div",{staticClass:"usage_three",attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"top"},[e("span",[e("i",{staticClass:"iconfont icon-tixingshixin"})]),e("p",[t._v(t._s(t.$t("newAdd.new179")))])]),e("div",{staticClass:"down"},[e("div",[e("span",[t._v(t._s(t.consumablePro&&t.consumablePro.filterCount.length>0&&t.consumablePro.filterCount[2].count))]),e("p",[t._v(t._s(t.$t("newAdd.new149")))])]),e("div",[e("span",[t._v(t._s(t.consumablePro&&t.consumablePro.tubeCount.length>0&&t.consumablePro.tubeCount[2].count))]),e("p",[t._v(t._s(t.$t("newAdd.new150")))])]),e("div",[e("span",[t._v(t._s(t.consumablePro&&t.consumablePro.maskCount.length>0&&t.consumablePro.maskCount[2].count))]),e("p",[t._v(t._s(t.$t("newAdd.new151")))])]),e("div",[e("span",[t._v(t._s(t.consumablePro&&t.consumablePro.waterTankCount.length>0&&t.consumablePro.waterTankCount[2].count))]),e("p",[t._v(t._s(t.$t("newAdd.new152")))])])])])])],1):t._e()],1)],1):t._e(),e("div",{staticClass:"deviceUsage"},[e("div",{staticClass:"fz_20",staticStyle:{"margin-bottom":"10px"}},[t._v(" "+t._s(t.$t("newAdd.new190"))+" ")]),e("el-row",{staticClass:"contentDcUsage",attrs:{gutter:30}},[t.list[0].show?e("el-col",{attrs:{sm:24,md:12,lg:6}},[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[e("div",{staticClass:"fl_cc"},[t._v(" Activated device is the device that has been bound to the patient ")]),e("div",{staticClass:"dataSurvey_three oneCard",attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"top"},[e("span",[e("i",{staticClass:"iconfont icon-icon_jihuo"})]),e("span",{on:{click:function(e){return t.viewData(2)}}},[t._v(t._s(t.$t("doctorHome.doctor7")))])]),e("div",{staticClass:"down"},[e("p",[t._v(t._s(t.$t("newAdd.new191")))]),e("span",[t._v(t._s(t.agentHomepageData.activateCount||0))])])])])],1):t._e(),t._l(t.deviceUsageList,(function(s,a){return s.show?e("el-col",{key:a,attrs:{sm:24,md:12,lg:6}},[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[e("div",{staticClass:"fl_cc"},[t._v(" Therapy days is the days since the device start date ")]),e("div",{staticClass:"dataSurvey_three",attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"top"},[e("span",[t._v(" "+t._s(s.title))]),e("span",{on:{click:function(e){return t.viewData(4,{useDay:s.day})}}},[t._v(t._s(t.$t("doctorHome.doctor7")))])]),e("div",{staticClass:"down fl_cc"},[e("span",[t._v(" "+t._s(t.agentHomepageData[s.num]||0)+" "+t._s(t.$t("doctorHome.doctor14")))])])])])],1):t._e()}))],2)],1)]):t._e(),e("div",{staticClass:"dataSurvey useSurvey"},[e("div",{staticClass:"title fl_sb"},[e("p",{staticClass:"fz_20"},[t._v(t._s(t.$t("newAdd.new193")))]),e("ul",[e("li",{class:[7==t.day?"optFor":""],on:{click:function(e){return t.setDay(7)}}},[t._v(" 7"+t._s(t.$t("doctorHome.doctor16"))+" ")]),e("li",{class:[30==t.day?"optFor":""],on:{click:function(e){return t.setDay(30)}}},[t._v(" 30"+t._s(t.$t("doctorHome.doctor16"))+" ")])])]),e("el-row",{attrs:{gutter:30}},t._l(t.useSurveyThree,(function(s,a){return s.show?e("el-col",{key:a,attrs:{sm:24,md:24,lg:8}},[e("div",{class:"useSurvey_three useSurvey"+a},[e("div",{staticClass:"top"},[e("span",[e("i",{staticClass:"iconfont icon-shijian"})]),e("p",[t._v(t._s(s.text1))])]),e("span",{staticClass:"line"}),e("div",{staticClass:"dow"},[e("div",{staticClass:"proportion"},[e("h5",[t._v(t._s(s.text2)+" "+t._s(t.$t("doctorHome.doctor14")))]),e("p",[t._v(" "+t._s(t.$t("institutionHome.institution6"))+" "+t._s(s.text3)+"% ")])])])])]):t._e()})),1)],1)]):e("div",{staticClass:"staff"},[e("p",[t._v(t._s(t.$t("newAdd.new2")))]),e("img",{staticClass:"computer",attrs:{src:s("c302"),alt:""}})])},O=[],E={data(){return{day:30,patientAllNum:0,patientMonthRatio:0,patientMonthNum:0,patientThisMonthNum:0,doctorSumNum:0,doctorMonthNum:0,deviceSumNum:0,deviceMonthNum:0,adddeviceMonthNum:0,doctorUseNum:0,doctorUseNumProportion:0,patientUseNum:0,patientUseNumProportion:0,devicetUseNum:0,devicetUseNumProportion:0,deviceThisMonthNum:0,doctorThisMonthNum:0,clearIntervals:0,agentHomepageData:{patientMonthRatio:"0%",patientSumNum:0,patientThisMonthNum:0,doctorSumNum:0,doctorThisMonthNum:0,deviceSumNum:0,activateCount:0,deviceNetTypeCount:[{date:"WIFI",count:0},{date:"2G/4G",count:0},{date:"NO",count:0}],deviceThisMonthNum:0,doctorUseNum:0,patientUseNum:0,devicetUseNum:0,doctorUseNumProportion:0,patientUseNumProportion:0,devicetUseNumProportion:0,notUse30:0},popover:["This card shows the numbers of people using wifi or SD card devices for <4 hours yesterday","This card shows the number of people who have used wifi or SD card devices for <4 hours in the last 30 days","This card shows the number of different types of consumables that need to be replaced"],consumablePro:{deviceNum:45,waterTankCount:[{date:"1",count:0},{date:"2",count:0},{date:"3",count:0}],tubeCount:[{date:"1",count:0},{date:"2",count:0},{date:"3",count:0}],filterCount:[{date:"1",count:0},{date:"2",count:0},{date:"3",count:0}],maskCount:[{date:"1",count:0},{date:"2",count:0},{date:"3",count:0}]},titleCoList:[{cls:"successBg",text:this.$t("newAdd.new153")},{cls:"warningBg",text:this.$t("newAdd.new154")},{cls:"dangerBg",text:this.$t("newAdd.new155")}],consumableList:[{icon:"icon-mianhua",name:this.$t("newAdd.new149"),proName:"filterCount"},{icon:"icon-RectangleCopy",name:this.$t("newAdd.new150"),proName:"tubeCount"},{icon:"icon-renlianshibie",name:this.$t("newAdd.new151"),proName:"maskCount"},{icon:"icon-qingshuixiang",name:this.$t("newAdd.new152"),proName:"waterTankCount"}],usageNum30:{num:"",percent:""},usageNum1:[{count:""},{count:""}],deviceUsageList:[{title:this.$t("newAdd.new192",{day:30}),num:"reportNum3",day:30,show:!0},{title:this.$t("newAdd.new192",{day:60}),num:"reportNum6",day:60,show:!0},{title:this.$t("newAdd.new192",{day:90}),num:"reportNum9",day:90,show:!0}],list:[{title:"呼吸机",path:"ventilator",show:!1},{title:"医生列表",path:"doctorList",show:!1},{title:"患者列表",path:"patient",show:!1},{title:"耗材",path:"consumablesList",show:!1},{title:"依从性列表",path:"complianceList",show:!1}],formatShow:!1}},computed:{dataSurveyThree(){return[{text1:this.$t("institutionHome.institution9"),text2:this.doctorSumNum,text3:this.doctorSumNum-this.doctorThisMonthNum,text4:this.$t("doctorHome.doctor9"),text5:this.doctorThisMonthNum,text6:this.$t("doctorHome.doctor10"),url:1,show:this.list[1].show},{text1:this.$t("institutionHome.institution8"),text2:this.patientAllNum,text3:this.patientThisMonthNum,text4:this.$t("doctorHome.doctor9"),text5:this.patientMonthNum,text6:this.$t("doctorHome.doctor10"),url:0,show:1==this.list[2].show||1==this.list[4].show}]},useSurveyThree(){return[{text1:this.$t("newAdd.new202",{day:this.day}),text2:this.doctorUseNum,text3:this.doctorUseNumProportion,text4:"#592E8A",show:this.list[1].show},{text1:this.$t("newAdd.new203",{day:this.day}),text2:this.patientUseNum,text3:this.patientUseNumProportion,text4:"#0052CC",show:!(!this.list[2].show&&!this.list[4].show)},{text1:30==this.day?this.$t("institutionHome.institution15"):this.$t("institutionHome.institution18"),text2:this.devicetUseNum,text3:this.devicetUseNumProportion,text4:"#2F7DC1",show:this.list[0].show}]}},async mounted(){await this.formatQx(),0!=this.formatShow&&(await this.getInfo(30),await this.getagentHomepage(),await this.consumableCountList(),await this.getPatientUsage(),await this.getUsageYesterday(),this.clearIntervals=setInterval(()=>{this.refreshView()},3e4))},destroyed(){clearInterval(this.clearIntervals)},created(){this.formatQx()},methods:{goCompliance(){this.$router.push({path:"/patient",query:{notUseDay:30}})},formatQx(){let t=JSON.parse(localStorage.getItem("permissions")),e=this;for(let s=0;s<e.list.length;s++)t.map(t=>{t.value.authorizingUrl==e.list[s].path?e.list[s].show=!0:t.children.map(t=>{t.value.authorizingUrl==e.list[s].path?e.list[s].show=!0:t.children.map(t=>{t.value.authorizingUrl==e.list[s].path&&(e.list[s].show=!0)})})}),s==this.list.length-1&&this.formatShowBtn()},formatShowBtn(){let t=0;for(let e=0;e<this.list.length;e++)1==this.list[e].show&&t++,e==this.list.length-1&&(this.formatShow=t>0,this.deviceUsageList=[{title:this.$t("newAdd.new192",{day:30}),num:"reportNum3",day:30,show:!(!this.list[2].show&&!this.list[4].show)},{title:this.$t("newAdd.new192",{day:60}),num:"reportNum6",day:60,show:!(!this.list[2].show&&!this.list[4].show)},{title:this.$t("newAdd.new192",{day:90}),num:"reportNum9",day:90,show:!(!this.list[2].show&&!this.list[4].show)}])},format(t){return t},proWidth(t,e){return this.consumablePro&&this.consumablePro[t].length>0?parseInt(this.consumablePro[t][e].count/this.consumablePro.deviceNum*100)+"%":1},async consumableCountList(){await Object(d["u"])().then(({data:t})=>{this.consumablePro=t})},async getPatientUsage(){await Object(d["Ob"])({During:30}).then(({data:t})=>{this.usageNum30={num:parseInt(t.notComplianceNum),percent:0==this.consumablePro.deviceNum?0:Math.round(parseInt(t.notComplianceNum+t.notUseNum)/(t.notComplianceNum+t.notUseNum+t.complianceNum)*100)}})},async getUsageYesterday(){await Object(d["r"])({dayTime:H()().format("YYYY-MM-DD")}).then(({data:t})=>{this.usageNum1=t})},async getagentHomepage(){await Object(d["l"])().then(({data:t})=>{let e=this;this.agentHomepageData=t,this.patientAllNum=t.patientSumNum?t.patientSumNum:0;let s=t.patientSumNum-t.patientThisMonthNum;this.patientThisMonthNum=s||0,this.patientMonthNum=t.patientThisMonthNum,this.patientMonthRatio=t.patientMonthRatio,this.doctorSumNum=t.doctorSumNum,this.doctorThisMonthNum=t.doctorThisMonthNum,this.deviceSumNum=t.deviceSumNum,this.deviceThisMonthNum=t.deviceThisMonthNum;let a=[{date:"WIFI",count:0},{date:"2G/4G",count:0},{date:"NO",count:0},...t.deviceNetTypeCount],i={};const o=a.reduceRight((t,e)=>(!i[e.date]&&(i[e.date]=t.push(e)),t),[]);setTimeout(()=>{e.topEchInit(o)},1e3)})},async getInfo(t){await Object(d["m"])(t).then(({data:t})=>{this.doctorUseNum=t.doctorUseNum,this.doctorUseNumProportion=t.doctorUseNumProportion,this.patientUseNum=t.patientUseNum,this.patientUseNumProportion=t.patientUseNumProportion,this.devicetUseNum=t.devicetUseNum,this.devicetUseNumProportion=t.devicetUseNumProportion})},refreshView(){this.getagentHomepage(),this.getInfo(this.day),this.getPatientUsage(),this.getUsageYesterday()},setDay(t){this.day=t,this.getInfo(this.day)},deviceRECharts(t){let e=r.a.init(this.$refs.deviceRECharts);e.clear();let s=r.a.init(this.$refs.deviceRECharts),a={backgroundColor:"#fff",color:["#5243AA"],grid:{left:"2%",right:"2%",bottom:"2%",containLabel:!0},tooltip:{trigger:"axis"},xAxis:{data:t.map(t=>t.addTime=this.$dateFmtFun(t.addTime)),axisTick:{show:!1},textStyle:{color:"#999"},axisLabel:{formatter:"{value}",textStyle:{color:"#999"}},axisLine:{show:!1,lineStyle:{color:"#999"}},splitLine:{show:!0,lineStyle:{color:"#EBEEF5"}}},yAxis:{splitArea:{show:!1},axisTick:{show:!1},minInterval:1,textStyle:{color:"#999"},axisLabel:{formatter:"{value}",textStyle:{color:"#999"}},axisLine:{show:!1,lineStyle:{color:"#999"}},splitLine:{show:!1}},series:[{name:this.$t("doctorHome.doctor25"),smooth:!0,symbol:"circle",type:"line",data:t.map(t=>t.num)}]};s.setOption(a)},viewData(t,e){0==t&&this.$router.push({path:"/patient"}),1==t&&this.$router.push({path:"/doctorList"}),2==t&&this.$router.push({path:"/ventilator"}),3==t&&this.$router.push({path:"/consumablesList"}),4==t&&this.$router.push({path:"/patient",query:e})},topEchInit(t){let e=r.a.init(this.$refs.echartsDevice),s=t.slice(0,5),a={color:["#6EC3E9","#BAD0F1","#592E8A","#0052CC","#519cec","#a1aaf8"],title:{zlevel:0,text:this.deviceSumNum,top:"center",left:"47%",textAlign:"center",subtext:this.$t("doctorHome.doctor12"),itemGap:2,textStyle:{color:"#2662F0",fontSize:"28",fontWeight:"700"},subtextStyle:{fontSize:"15"}},tooltip:{trigger:"item"},series:[{label:{normal:{position:"inner",show:!1}},type:"pie",radius:["75%","90%"],avoidLabelOverlap:!1,labelLine:{show:!1},data:s.map(t=>({value:t.count,name:t.date}))}]};e.setOption(a),e.on("click",(function(t){}))}}},B=E,R=(s("c660"),Object(h["a"])(B,L,O,!1,null,"62ef30ba",null)),Y=R.exports,F=s("89fa");let z="";var j={components:{chang:v,doctor:C,patient:S,shiyan:M,staff:Y},data(){return{showkey:""}},mounted(){let t=+this.$store.state.config.userId.slice(0,1),e=JSON.parse(localStorage.getItem("userInfo")),s=e.multipleId?12:t;switch(s){case 1:z="chang";break;case 2:z="doctor";break;case 3:z="patient";break;case 4:z="shiyan";break;case 12:z="staff";break;case 5:z="store";break}let a="",i=this;const o=function(s){s.map((s,n)=>{if(s.children&&s.children.length>0)o(s.children);else if(0==n&&""==a){let o=s.value.authorizingUrl;i.$store.dispatch("changetoPermission",o),1==t||2==t||4==t||e.multipleId?(i.showkey=z,i.$store.dispatch("changetoPermission","homePage")):i.$router.push({path:"/"+o}),a=s.value.authorizingUrl}})};let n=Object(F["a"])();0!==n.length?this.showkey=z:o(this.$store.state.permissions)},methods:{}},W=j,V=Object(h["a"])(W,a,i,!1,null,"6658995a",null);e["default"]=V.exports},a03d:function(t,e,s){},a0da:function(t,e,s){},b4ed:function(t,e,s){"use strict";s("13cf")},c302:function(t,e,s){t.exports=s.p+"img/computer.377f12cb.png"},c660:function(t,e,s){"use strict";s("a03d")},e4de:function(t,e,s){"use strict";s("3446")},f4dd:function(t,e,s){"use strict";var a=s("23e7"),i=s("d58f").right,o=s("a640"),n=s("2d00"),c=s("605d"),r=o("reduceRight"),l=!c&&n>79&&n<83;a({target:"Array",proto:!0,forced:!r||l},{reduceRight:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},fec1:function(t,e,s){"use strict";s("a0da")}}]);